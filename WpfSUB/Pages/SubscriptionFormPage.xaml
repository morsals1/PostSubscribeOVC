<Page x:Class="WpfSUB.Pages.SubscriptionFormPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:system="clr-namespace:System;assembly=mscorlib"
      Title="Оформление подписки">
    <ScrollViewer>
        <Grid Margin="20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            <TextBlock Grid.Row="0" Text="Оформление подписки" FontSize="18" FontWeight="Bold" Margin="0,0,0,20"/>
            <StackPanel Grid.Row="1">
                <Label Content="Клиент:"/>
                <ComboBox x:Name="ClientComboBox" DisplayMemberPath="FullName" 
                          SelectionChanged="ClientComboBox_SelectionChanged" Margin="0,0,0,10"/>
                <Label Content="Издание:"/>
                <ComboBox x:Name="PublicationComboBox" DisplayMemberPath="Title" 
                          SelectionChanged="PublicationComboBox_SelectionChanged" Margin="0,0,0,10"/>
                <Label Content="Период (месяцев):"/>
                <ComboBox x:Name="PeriodComboBox" SelectionChanged="PeriodComboBox_SelectionChanged" Margin="0,0,0,10">
                    <ComboBoxItem Content="3"/>
                    <ComboBoxItem Content="6"/>
                    <ComboBoxItem Content="12"/>
                    <ComboBoxItem Content="24"/>
                </ComboBox>
                <Label Content="Дата начала:"/>
                <DatePicker x:Name="StartDatePicker" SelectedDate="{x:Static system:DateTime.Today}" 
                           Margin="0,0,0,10"/>
                <Label Content="Дополнительные услуги:"/>
                <Border BorderBrush="#E0E0E0" BorderThickness="1" Padding="10" Margin="0,0,0,10">
                    <StackPanel x:Name="ServicesPanel"/>
                </Border>
                <StackPanel Orientation="Horizontal" Margin="0,0,0,20">
                    <Button Content="Рассчитать стоимость" Click="Calculate_Click" Width="150" Margin="0,0,10,0"/>
                    <TextBlock x:Name="TotalPriceText" FontSize="16" FontWeight="Bold" Foreground="Green" 
                               VerticalAlignment="Center" Text="0,00 ₽"/>
                </StackPanel>
                <Border BorderBrush="#1976D2" BorderThickness="1" Background="#E3F2FD" Padding="10" Margin="0,0,0,10">
                    <StackPanel>
                        <TextBlock Text="Информация о подписке:" FontWeight="Bold" Margin="0,0,0,5"/>
                        <TextBlock x:Name="SubscriptionInfoText" TextWrapping="Wrap" Foreground="#1976D2"/>
                    </StackPanel>
                </Border>
            </StackPanel>
            <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right">
                <Button x:Name="SaveButton" Content="Оформить" Click="Save_Click" 
                        Width="100" Margin="5" FontWeight="Bold" Background="#4CAF50" Foreground="White"/>
                <Button Content="Отмена" Click="Cancel_Click" Width="100" Margin="5"/>
            </StackPanel>
        </Grid>
    </ScrollViewer>
</Page>